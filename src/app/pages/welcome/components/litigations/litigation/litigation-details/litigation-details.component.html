<div class="site-page-header-ghost-wrapper">
  <nz-page-header nzBackIcon [nzGhost]="false">
    <nz-page-header-title>
      <span id="headerTitle">Litigation Details </span>
    </nz-page-header-title>
    <nz-page-header-subtitle
      >Press the back button to navigate back home</nz-page-header-subtitle
    >
  </nz-page-header>
  <nz-divider style="margin-top: -0.2em"></nz-divider>
</div>

<nz-collapse>
  <nz-collapse-panel
    *ngFor="let panel of panels"
    [nzHeader]="panel.name"
    [nzActive]="panel.active"
    [nzShowArrow]="panel.arrow"
  >
    <p style="margin: 0">
      A dog is a type of domesticated animal. Known for its loyalty and
      faithfulness, it can be found as a welcome guest in many households across
      the world.
    </p>
  </nz-collapse-panel>
</nz-collapse>

<form
  nz-form
  [formGroup]="judicialReportForm"
  class="login-form"
  (ngSubmit)="submitReport()"
>
  <div nz-row>
    <div nz-col nzSpan="12">
      <div nz-row style="margin-bottom: 2em; margin-top: 1em">
        <div nz-col nzSpan="14">
          <!-- <input id="search" nz-input placeholder="Enter Account Number" [ngModelOptions]="{standalone: true}" [(ngModel)]="accountNumber" (keyup)="onSearch(accountNumber)" /> -->
        </div>
        <div nz-col nzSpan="10"></div>
      </div>
      <nz-row style="margin-bottom: 1em">
        <div nz-col nzSpan="11">
          <h3 id="formTitle" style="float: left">Report Details:</h3>
        </div>
        <div nz-col nzSpan="1"></div>
      </nz-row>

      <div nz-row>
        <div nz-col nzSpan="7" nzOffset="1">
          <!-- <nz-input-group   [nzSuffix]="clearCourtAddress"> -->
          <input
            id="input"
            type="text"
            nz-input
            formControlName="courtAddress"
            placeholder="Input Court Address"
            clearCourtAddress
          />
          <!-- </nz-input-group> -->
          <ng-template #clearCourtAddress>
            <span
              nz-icon
              class="ant-input-clear-icon"
              nzTheme="fill"
              nzType="close-circle"
              *ngIf="judicialReportForm.get('courtAddress')?.value"
              (click)="resetField('courtAddress')"
            ></span>
          </ng-template>
        </div>
        <div nz-col nzSpan="7" nzOffset="1">
          <input
            id="input"
            type="text"
            nz-input
            formControlName="judicialFee"
            placeholder="Input Judicial Fee"
            judicialFee
          />
          <!-- </nz-input-group> -->
          <ng-template #judicialFee>
            <span
              nz-icon
              class="ant-input-clear-icon"
              nzTheme="fill"
              nzType="close-circle"
              *ngIf="judicialReportForm.get('judicialFee')?.value"
              (click)="resetField('judicialFee')"
            ></span>
          </ng-template>
        </div>

        <div nz-col nzSpan="7" nzOffset="1">
          <nz-date-picker
            id="input"
            style="width: 100%"
            formControlName="judicialAppointmentDate"
          ></nz-date-picker>
          <!-- </nz-input-group> -->
          <ng-template #clearCourtAddress>
            <span
              nz-icon
              class="ant-input-clear-icon"
              nzTheme="fill"
              nzType="close-circle"
              *ngIf="judicialReportForm.get('courtAddress')?.value"
              (click)="resetField('courtAddress')"
            ></span>
          </ng-template>
        </div>
      </div>

      <div nz-row style="margin-top: 1em">
        <div nz-col nzSpan="14" nzOffset="1" style="width: 100%">
          <!-- <nz-input-group   [nzSuffix]="clearCourtAddress"> -->
          <textarea
            style="width: 100%"
            id="input"
            type="text"
            nz-input
            formControlName="adjournmentReason"
            placeholder="Input Adjournment Reason"
            clearCourtAddress
          >
          </textarea>
          <!-- </nz-input-group> -->
          <ng-template #clearAdjournmentReason>
            <span
              nz-icon
              class="ant-input-clear-icon"
              nzTheme="fill"
              nzType="close-circle"
              *ngIf="judicialReportForm.get('adjournmentReason')?.value"
              (click)="resetField('adjournmentReason')"
            ></span>
          </ng-template>
        </div>

        <div nz-col nzSpan="10" nzOffset="1"></div>
      </div>

      <nz-row style="margin: 1em 0 1em 0">
        <div nz-col nzSpan="11">
          <h3 id="formTitle" style="float: left">Add Next Appointments:</h3>
        </div>
        <div nz-col nzSpan="1"></div>
      </nz-row>

      <nz-steps
        #steps
        nzDirection="horizontal"
        nzSize="small"
        [nzCurrent]="current"
        style="width: 100%; border: 1px solid red; height: 100px"
      >
        <nz-step
          #steps1
          nzTitle="Next Appointmentss"
          style="width: 100%"
          #appointments
        >
        </nz-step>
        <nz-step #steps2 nzTitle="Expense Details"></nz-step>
        <nz-step #steps3 nzTitle="Finish and Save"></nz-step>
      </nz-steps>

      <div class="steps-content">
        <div nz-row style="width: 100%">
          <container-element [ngSwitch]="current">
            <some-element *ngSwitchCase="1">
              <div nz-row style="margin-top: 1em" style="width: 100%">
                <ng-container
                  formArrayName="expenseDetails"
                  style="width: 100%"
                >
                  <ng-container
                    *ngFor="
                      let expenseDetailForm of expenseDetails.controls;
                      let j = index
                    "
                    style="width: 100%"
                  >
                    <div
                      nz-row
                      formGroupName="{{ j }}"
                      style="width: 100%; margin-bottom: 1em"
                    >
                      <div nz-col nzSpan="9" nzOffset="1">
                        <input
                          id="input"
                          type="text"
                          nz-input
                          formControlName="amount"
                          placeholder="Input Amount"
                        />
                      </div>
                      <div nz-col nzSpan="9" nzOffset="1">
                        <nz-select
                          id="input"
                          nzShowSearch
                          nzServerSearch
                          nzPlaceHolder="Select Expense Type"
                          formControlName="expense"
                          [nzShowArrow]="false"
                          (nzOnSearch)="onSearch($event)"
                        >
                          <nz-option
                            *ngFor="let et of expenseTypes"
                            [nzLabel]="et.expenseName"
                            [nzValue]="et"
                          ></nz-option>
                        </nz-select>
                      </div>
                      <div nz-col nzSpan="2">
                        <button
                          nz-button
                          nzType="text"
                          nzDanger
                          (click)="deleteExpense(j)"
                        >
                          <span nz-icon nzType="delete"></span> Remove
                        </button>
                      </div>
                    </div>
                  </ng-container>
                </ng-container>
              </div>
              <div nz-row style="width: 100%; margin: 1em 0 1em 0">
                <div nz-col nzSpan="8" nzOffset="1"></div>
                <div nz-col nzSpan="6" nzOffset="1">
                  <button
                    style="
                      box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px,
                        rgba(0, 0, 0, 0.23) 0px 3px 6px;
                      text-align: center;
                      color: red;
                    "
                    (click)="addExpenseDetails()"
                    nz-button
                    nzType="text"
                    [nzSize]="'large'"
                    nzShape="circle"
                  >
                    <span nz-icon nzType="plus"></span>
                  </button>
                </div>
                <div nz-col nzSpan="8" nzOffset="1"></div>
              </div>
            </some-element>
            <some-element *ngSwitchCase="2">
              <h1>Finish Up</h1>
            </some-element>
            <some-element *ngSwitchDefault style="width: 100%">
              <div nz-row style="margin-top: 1em" style="width: 100%">
                <ng-container
                  formArrayName="nextAppointments"
                  style="width: 100%"
                >
                  <ng-container
                    *ngFor="
                      let nextAppointmentForm of nextAppointments.controls;
                      let i = index
                    "
                    style="width: 100%"
                  >
                    <div
                      nz-row
                      formGroupName="{{ i }}"
                      style="width: 100%; margin-bottom: 1em"
                    >
                      <div nz-col nzSpan="9" nzOffset="1">
                        <nz-date-picker
                          id="input"
                          style="width: 100%"
                          formControlName="date"
                        ></nz-date-picker>
                      </div>
                      <div nz-col nzSpan="9" nzOffset="1">
                        <input
                          id="input"
                          type="text"
                          nz-input
                          formControlName="reason"
                          placeholder="Input Reason"
                        />
                      </div>
                      <div nz-col nzSpan="2">
                        <button
                          nz-button
                          nzType="text"
                          nzDanger
                          (click)="deleteAdjournment(i)"
                        >
                          <span nz-icon nzType="delete"></span> Remove
                        </button>
                      </div>
                    </div>
                  </ng-container>
                </ng-container>
              </div>
              <div nz-row style="width: 100%; margin: 1em 0 1em 0">
                <div nz-col nzSpan="8" nzOffset="1"></div>
                <div nz-col nzSpan="6" nzOffset="1">
                  <button
                    style="
                      box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px,
                        rgba(0, 0, 0, 0.23) 0px 3px 6px;
                      text-align: center;
                      color: red;
                    "
                    (click)="onAddNextAppointments()"
                    nz-button
                    nzType="text"
                    [nzSize]="'large'"
                    nzShape="circle"
                  >
                    <span nz-icon nzType="plus"></span>
                  </button>
                </div>
                <div nz-col nzSpan="8" nzOffset="1"></div>
              </div>
            </some-element>
          </container-element>
        </div>
      </div>
      <div class="steps-action">
        <button nz-button nzType="default" (click)="pre()" *ngIf="current > 0">
          <span>Previous</span>
        </button>
        <button
          nz-button
          nzType="default"
          (click)="next()"
          [nzLoading]="processing"
          *ngIf="current < 2"
        >
          <span>Next</span>
        </button>
        <button
          nz-button
          nzType="primary"
          (click)="done()"
          [nzLoading]="processing"
          *ngIf="current === 2"
        >
          <span>Done</span>
        </button>
      </div>
    </div>

    <div nz-col nzSpan="12">
      <!-- <div class="">
        <div nz-row>
            <div nz-col nzSpan="2" nzOffset="1"></div>
            <div nz-col nzSpan="15" nzOffset="1" style="width:100%">
                <nz-row style="margin-bottom: 1em; margin-top: 1.5em;margin-left: 4em;width: 100%;"
                ><h3 id="formTitle">Litigation Preview:</h3>
                
                </nz-row>
                <nz-divider></nz-divider>
            </div>
            <div nz-col nzSpan="2" nzOffset="1"></div>
        </div>
        <div nz-row style="margin-left: 1em;">
          <div nz-col nzSpan="2" nzOffset="1">

          </div>
          <div nz-col nzSpan="13" nzOffset="1">

            <div>
            <h3 id="previewHeader">Plaintiff Preview: </h3>
            <div style="margin-left: 3em;">
              <p>First Name: <a style="font-family: none;">{{litigationForm.get('plaintiff.firstName')?.value}}</a></p>
              <p>Last Name: <a style="font-family: none;">{{litigationForm.get('plaintiff.lastName')?.value}}</a> </p>
              <p>Phone Number:  <a style="font-family: none;">{{litigationForm.get('plaintiff.phoneNumber')?.value}}</a></p>
              <p>Email:  <a style="font-family: none;">{{litigationForm.get('plaintiff.email')?.value}}</a></p>
            </div>
            </div>
         
  
          <div >
              <h3 id="previewHeader">Defendant Preview: </h3>
              <div style="margin-left: 2em;">
                <p>First Name: <a style="font-family: none;">{{litigationForm.get('defendant.firstName')?.value}}</a></p>
                <p>Last Name:  <a style="font-family: none;">{{litigationForm.get('defendant.lastName')?.value}}</a></p>
                <p>Phone Number:  <a style="font-family: none;">{{litigationForm.get('defendant.phoneNumber')?.value}}</a></p>
                <p>Email:  <a style="font-family: none;">{{litigationForm.get('defendant.email')?.value}}</a></p>
              </div>
            </div>
            <div >
              <h3 id="previewHeader">Other Preview: </h3>
              <div style="margin-left: 2em;">
                <p>Court Adjudicating: <a style="font-family: none;">{{litigationForm.get('courtAdjudicating')?.value}}</a></p>
                <p>Case Type:  <a style="font-family: none;">{{litigationForm.get('caseType')?.value}}</a></p>
                <p>Branch:  <a style="font-family: none;">{{litigationForm.get('branch')?.value?.name}}</a></p>
                <p>Remark:  <a style="font-family: none;">{{litigationForm.get('remark')?.value}}</a></p>
              </div>
            </div>
            </div>
            <div nz-col nzSpan="3" nzOffset="1">

            </div>
          </div>
      </div> -->
    </div>
  </div>
</form>
